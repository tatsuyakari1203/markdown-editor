/* Table of Contents Styling - Elegant Tree Design */
.markdown-preview-content h2:has(+ ul:first-of-type) {
  margin-bottom: 1.25rem;
  font-size: 1.15rem;
  font-weight: 550;
  letter-spacing: 0.025em;
  line-height: 1.3;
}

.markdown-preview-content h2:has(+ ul:first-of-type) + ul {
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 2rem;
  list-style: none;
}

/* Remove default list styling and brackets */
.markdown-preview-content h2:has(+ ul:first-of-type) + ul li {
  list-style: none;
  margin: 0;
  padding: 0;
}

.markdown-preview-content h2:has(+ ul:first-of-type) + ul li::before {
  display: none;
}

.markdown-preview-content h2:has(+ ul:first-of-type) + ul a {
  display: block;
  padding: 8px 14px;
  margin: 2px 0;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  line-height: 1.4;
  letter-spacing: 0.01em;
  transition: color 0.15s ease;
}

/* Nested list styling for tree structure */
.markdown-preview-content h2:has(+ ul:first-of-type) + ul ul {
  margin-left: 18px;
  padding-left: 0;
  border-left: 1px solid rgba(156, 163, 175, 0.3);
  background: transparent;
  padding: 0;
  margin-top: 3px;
  margin-bottom: 3px;
}

.markdown-preview-content h2:has(+ ul:first-of-type) + ul ul a {
  font-size: 0.95rem;
  font-weight: 500;
  padding: 6px 12px;
  opacity: 0.85;
}

.markdown-preview-content h2:has(+ ul:first-of-type) + ul ul ul a {
  font-size: 0.9rem;
  font-weight: 450;
  padding: 5px 10px;
  opacity: 0.75;
}

.markdown-preview-content h2:has(+ ul:first-of-type) + ul ul li::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 12px;
  width: 6px;
  height: 1px;
}

/* Dark mode TOC */
.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul {
  background-color: rgba(15, 23, 42, 0.4);
  border: 1px solid rgba(51, 65, 85, 0.25);
}

.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul a {
  color: rgb(203, 213, 225);
}

.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul a:hover {
  color: rgb(226, 232, 240);
}

.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul {
  border-left-color: rgba(75, 85, 99, 0.4);
}

.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul a {
  color: rgb(156, 163, 175);
}

.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul ul a {
  color: rgb(107, 114, 128);
}

.dark .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul li::before {
  background-color: rgba(75, 85, 99, 0.5);
}

/* Light mode TOC */
.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul {
  background-color: rgba(248, 250, 252, 0.7);
  border: 1px solid rgba(226, 232, 240, 0.6);
}

.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul a {
  color: rgb(51, 65, 85);
}

.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul a:hover {
  color: rgb(30, 41, 59);
}

.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul {
  border-left-color: rgba(156, 163, 175, 0.4);
}

.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul a {
  color: rgb(75, 85, 99);
}

.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul ul a {
  color: rgb(107, 114, 128);
}

.light .markdown-preview-content h2:has(+ ul:first-of-type) + ul ul li::before {
  background-color: rgba(156, 163, 175, 0.5);
}

/* Heading Link Styling - Minimal */
.heading-link {
  text-decoration: none;
}

/* Wiki Link Styling */
.wiki-link {
  display: inline-flex;
  align-items: center;
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
  border: 1px solid;
  transition: opacity 0.2s;
}

.wiki-link:hover {
  opacity: 0.8;
}

/* Existing wiki links */
.dark .wiki-link:not(.wiki-link-new) {
  color: rgb(96, 165, 250);
  background-color: rgba(30, 58, 138, 0.2);
  border-color: rgba(29, 78, 216, 0.5);
}

.light .wiki-link:not(.wiki-link-new) {
  color: rgb(37, 99, 235);
  background-color: rgb(239, 246, 255);
  border-color: rgb(191, 219, 254);
}

/* New wiki links */
.dark .wiki-link.wiki-link-new {
  color: rgb(248, 113, 113);
  background-color: rgba(127, 29, 29, 0.2);
  border-color: rgba(185, 28, 28, 0.5);
}

.light .wiki-link.wiki-link-new {
  color: rgb(220, 38, 38);
  background-color: rgb(254, 242, 242);
  border-color: rgb(254, 202, 202);
}